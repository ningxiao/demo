
<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=9"/>
        <title>Cnavas拷贝SVG</title>
    </head>
    <body>
        <canvas id="canvas" style="border:2px solid black;" width="200" height="200"></canvas>        
        <input type="button" value="绘制开始" id="drawbut" />
        <script type="text/javascript">
            var url,svg,img,DOMURL,data,ctx,drawbut,canvas;
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext('2d');
            DOMURL = window.URL || window.webkitURL || window;
            drawbut = document.getElementById("drawbut");
            data = '<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">' +
                       '<foreignObject width="100%" height="100%">' +
                       '<div xmlns="http://www.w3.org/1999/xhtml" style="font-size:40px">' +
                         '<em>I</em> like' + 
                         '<span style="color:white; text-shadow:0 0 2px blue;">' +
                         'cheese</span>' +
                       '</div>' +
                       '</foreignObject>' +
                       '</svg>';
            drawbut.onclick = function(){
                img = new Image();
                svg = new Blob([data], {type: 'image/svg+xml;charset=utf-8'});
                url = DOMURL.createObjectURL(svg);
                img.onload = function () {
                  ctx.drawImage(img, 0, 0);
                  DOMURL.revokeObjectURL(url);
                }
                img.src = url;
            }
        </script>
    </body>
</html>